# Push-сервер (экспериментальная функция)
Push-сервер - это отправка сообщений непосредственно на мобильный телефон, когда загрузка торрента завершена. Для этого не требуется, чтобы мобильное приложение постоянно обновляло список торрентов в фоновом режиме, достаточно установить "Запустить внешнюю программу по окончании загрузки торрента" на сервере qBittorrent

**Внимание**: 
Server Push в настоящее время является экспериментальной функцией, и нет гарантии, что она будет работать в полном объеме, особенно если вы находитесь в регионе где нет постоянного доступа к Google

## Как пользоваться
Необходимые условия:
1. Вам нужен постоянный доступ к Google в вашем регионе (поскольку используется служба Push, предоставляемая Firebase)
2. У вашего сервера qBittorrent есть программы, которые могут получить доступ к сети, например: `curl`. Если в вашей системе ее нет, рекомендуется установить [curl](https://curl.se/). В следующих шагах в качестве примера будет использоваться `curl`

Если вы уверены что вышеперечисленные условия выполнены, то перейдем к следующим шагам:
1. Создайте пользователя в приложении qBittorrent Remote
2. Скопируйте имя созданного пользователя. Откройте веб-интерфейс сервера qBittorrent, нажмите "Настройки", найдите пункт "Запустить внешнюю программу по окончании загрузки торрента" и заполните поле следующим содержимым:
   - Для пользователей приложения qBittorrent Remote: `curl --form-string "message=%N download complete" "https://qbpush.baiye.us/api/v1/push/имя-пользователя"`
   - Для пользователей приложения qBittorrent Remote Lite: `curl --form-string "message=%N download complete" "https://qbpushlite.baiye.us/api/v1/push/имя-пользователя`
4. Нажмите "Сохранить"

Настройка завершена!
